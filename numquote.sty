% quote and quotation environments with linenumbers 
% (c) Stephan I. B"ottcher
%
% $Id: numquote.sty,v 1.3 1998/03/20 11:55:28 stephan Exp $

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{numquote}[1996/09/17 quote environment with line numbers]

% \begin{numquote}      numbered from  1
% \begin{numquote}[15]  numbered from 15
% \begin{numquote*}     numbers continue
% \begin{numquote}*     numbers continue

% The same for {numquotation}

% Option [*] reverses the behavior w/ or w/o *.

\RequirePackage{lineno}[1996/09/17]

\newcommand\quotelinenumbers
    {\@ifstar\linenumbers{\@ifnextchar[\linenumbers{\linenumbers*}}}

\DeclareOption{*}{\let\quotelinenumbers\linenumbers}
\ProcessOptions

\newdimen\quotelinenumbersep
\quotelinenumbersep=\linenumbersep
\let\quotelinenumberfont\linenumberfont

\newcommand\numlist
     {\leftlinenumbers
      \linenumbersep\quotelinenumbersep
      \let\linenumberfont\quotelinenumberfont
      \addtolength{\linenumbersep}{-\@totalleftmargin}%
      \quotelinenumbers
      }

\newenvironment{numquote}{\quote\numlist}{\endquote}
\newenvironment{numquotation}{\quotation\numlist}{\enquotation}
\newenvironment{numquote*}{\quote\numlist*}{\endquote}
\newenvironment{numquotation*}{\quotation\numlist*}{\enquotation}

\endinput
